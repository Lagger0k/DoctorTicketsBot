# DoctorTicketsBot
Бот для удобного поиска свободных талонов к врачам, запись к которым ведется через сайт https://uslugi.mosreg.ru/zdrav/

В этом репозитории буду переписывать свой [Pet-project](https://github.com/Lagger0k/Docktor_tickets_monitor), 
с учетом новых знаний и приобретенного опыта.

## Цели проекта:
1. Закрепить приобретенные навыки и знания
2. Улучшить текущую функциональность бота, уменьшить время между обновлениями данных
3. Дать возможность переиспользовать его под другие медицинские учреждения

## Технологии проекта:
1. Python 3.11 +
2. [AioHttp](https://github.com/aio-libs/aiohttp)
3. [python-telegram-bot](https://github.com/python-telegram-bot/python-telegram-bot)
4. [SqlAlchemy](https://www.sqlalchemy.org/)
5. [Alembic](https://github.com/sqlalchemy/alembic)
6. Docker-compose

## Code style
Black, длина строки 89 символов. 
В планах прикрутить pre-commit [Ruff linter](https://github.com/astral-sh/ruff)

## Flow работы с проектом
Задачи буду ставить себе в виде новых issues, возможно получится привлекать знакомых разработчиков для CodeReview, но это не точно.
Может быть предложить кому-то из знакомых начинающих разработчиков поучаствовать в проекте???

## План работы над проектом (в общих чертах)
1. Продумать новую архитектуру БД и процесс ETL данных от [сервера](https://uslugi.mosreg.ru/zdrav/) в нашу БД.
- [схема](https://lucid.app/lucidchart/8e586ff2-a693-4380-9724-bfb4d31e48dc/edit?beaconFlowId=0C759E7C8E41C83A&invitationId=inv_24c99a9e-97ab-4b24-95b8-7f0041b00c64&page=0_0#)
2. Продумать архитектуру бота с разделением на микро-сервисы, вынести ETL в отдельный сервис, в боте оставить только логику работы с запросами пользователей.
3. Описать таблицы новой БД, создать init миграцию
4. Реализовать процесс ETL (асинхронные запросы)
5. Написать docker-compose для поднятия ETL + Postgres
6. Написать Бот-приложение и подружить его с новой схемой БД